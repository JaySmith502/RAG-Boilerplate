---
phase: 06-design-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/features/retrieval/RetrievalPage.tsx
  - frontend/src/features/ingestion/IngestionPage.tsx
  - frontend/src/features/evaluation/EvaluationPage.tsx
  - frontend/src/features/chat/ChatPage.tsx
autonomous: true

must_haves:
  truths:
    - "Page headers have consistent, impactful typography"
    - "Error states use consistent Card-based pattern across all pages"
    - "Visual hierarchy is clear with bolder page titles"
  artifacts:
    - path: "frontend/src/features/retrieval/RetrievalPage.tsx"
      provides: "Consistent page header typography"
      contains: "text-3xl font-bold"
    - path: "frontend/src/features/ingestion/IngestionPage.tsx"
      provides: "Consistent page header typography and Card-based error state"
      contains: "text-3xl font-bold"
    - path: "frontend/src/features/evaluation/EvaluationPage.tsx"
      provides: "Consistent page header typography"
      contains: "text-3xl font-bold"
  key_links:
    - from: "All page headers"
      to: "Typography system"
      via: "text-3xl font-bold pattern"
      pattern: "text-3xl font-bold"
    - from: "Error states"
      to: "Card component"
      via: "Card wrapper with destructive styling"
      pattern: "Card.*border-destructive"
---

<objective>
Standardize page typography and error state patterns across all feature pages.

Purpose: Satisfy DSGN-05 (consistent spacing and typography) and DSGN-01 (modern SaaS aesthetic) requirements. Page headers currently use `text-2xl font-semibold` which lacks visual impact. Error states vary between pages (some use Card wrapper, some use plain div).

Output: All page headers use consistent bold typography, error states use standardized Card-based pattern.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-design-polish/06-RESEARCH.md

Key observations:
- Current page headers: `text-2xl font-semibold` (could be more impactful)
- EvaluationPage error state uses Card wrapper (good pattern)
- RetrievalPage/IngestionPage error states use plain div (inconsistent)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Standardize page header typography</name>
  <files>
    frontend/src/features/retrieval/RetrievalPage.tsx
    frontend/src/features/ingestion/IngestionPage.tsx
    frontend/src/features/evaluation/EvaluationPage.tsx
  </files>
  <action>
    Update page header h2 elements to use bolder typography for better visual hierarchy.

    **RetrievalPage.tsx** (line ~43):
    Change: `<h2 className="text-2xl font-semibold">Retrieval Testing</h2>`
    To: `<h2 className="text-3xl font-bold">Retrieval Testing</h2>`

    **IngestionPage.tsx** (line ~86):
    Change: `<h2 className="text-2xl font-semibold">Ingestion</h2>`
    To: `<h2 className="text-3xl font-bold">Ingestion</h2>`

    **EvaluationPage.tsx** (line ~49):
    Change: `<h2 className="text-2xl font-semibold">Evaluation</h2>`
    To: `<h2 className="text-3xl font-bold">Evaluation</h2>`

    Note: ChatPage does not have a page header (full-width chat interface), so no change needed there.
  </action>
  <verify>
    Run `cd frontend && pnpm build` - should complete without errors.
    Visually compare page headers - should be noticeably bolder and more impactful.
  </verify>
  <done>
    All three feature pages use text-3xl font-bold for main heading.
    Typography is consistent across pages.
  </done>
</task>

<task type="auto">
  <name>Task 2: Standardize error state patterns</name>
  <files>
    frontend/src/features/retrieval/RetrievalPage.tsx
    frontend/src/features/ingestion/IngestionPage.tsx
  </files>
  <action>
    Update error state components to use Card-based pattern matching EvaluationPage.

    **RetrievalPage.tsx** (lines ~65-82):
    The current error state uses a plain div. Update to use Card component for consistency.

    Current:
    ```tsx
    {isError && (
      <div className="border border-destructive/50 bg-destructive/10 rounded-lg p-4">
        <div className="flex items-center justify-between">
          ...
        </div>
      </div>
    )}
    ```

    Change to:
    ```tsx
    {isError && (
      <Card className="border-destructive/50 bg-destructive/10">
        <CardContent className="pt-6">
          <div className="flex items-center justify-between">
            <p className="text-sm text-destructive">
              Failed to retrieve: {error instanceof Error ? error.message : 'Unknown error'}
            </p>
            <Button
              variant="outline"
              size="sm"
              onClick={handleRetry}
              className="border-destructive/50 text-destructive hover:bg-destructive/10"
            >
              <RefreshCw className="h-3 w-3 mr-1" />
              Retry
            </Button>
          </div>
        </CardContent>
      </Card>
    )}
    ```

    Add Card and CardContent to imports at top of file:
    ```tsx
    import { Card, CardContent } from '@/components/ui/card'
    ```

    **IngestionPage.tsx** (lines ~152-170):
    Same pattern - update error state to use Card component.

    Current:
    ```tsx
    {isError && (
      <div className="border border-destructive/50 bg-destructive/10 rounded-lg p-4">
        ...
      </div>
    )}
    ```

    Change to:
    ```tsx
    {isError && (
      <Card className="border-destructive/50 bg-destructive/10">
        <CardContent className="pt-6">
          <div className="flex items-center justify-between">
            <p className="text-sm text-destructive">
              Failed to start job: {error instanceof Error ? error.message : 'Unknown error'}
            </p>
            <Button
              variant="outline"
              size="sm"
              onClick={handleRetry}
              className="border-destructive/50 text-destructive hover:bg-destructive/10"
            >
              <RefreshCw className="h-3 w-3 mr-1" />
              Dismiss
            </Button>
          </div>
        </CardContent>
      </Card>
    )}
    ```

    Note: IngestionPage already imports Card and CardContent, so no import change needed there.
  </action>
  <verify>
    Run `cd frontend && pnpm build` - should complete without errors.
    Trigger error states on Retrieval and Ingestion pages.
    Error displays should match EvaluationPage pattern (Card-based with consistent styling).
  </verify>
  <done>
    RetrievalPage error state uses Card component.
    IngestionPage error state uses Card component.
    All error states have consistent visual treatment.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `cd frontend && pnpm build` - should succeed without errors
2. Start dev server: `cd frontend && pnpm dev`
3. Visual checks:
   - Navigate to Retrieval page - header should be bold and impactful
   - Navigate to Ingestion page - header should be bold and impactful
   - Navigate to Evaluation page - header should be bold and impactful
   - All three headers should look consistent
4. Error state checks (use browser devtools to simulate errors or disconnect backend):
   - All error states should use Card-based layout with consistent styling
</verification>

<success_criteria>
- All page headers use `text-3xl font-bold` typography
- Error states in RetrievalPage and IngestionPage use Card component wrapper
- Build completes without errors
- Visual consistency across all feature pages
</success_criteria>

<output>
After completion, create `.planning/phases/06-design-polish/06-02-SUMMARY.md`
</output>
