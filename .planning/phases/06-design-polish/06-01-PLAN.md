---
phase: 06-design-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/features/retrieval/components/ResultsTable.tsx
  - frontend/src/features/evaluation/components/ComparisonTable.tsx
  - frontend/src/features/ingestion/components/JobHistoryTable.tsx
  - frontend/src/features/evaluation/components/ResultsDisplay.tsx
  - frontend/src/components/layout/header.tsx
  - frontend/src/features/chat/components/ChatSessionList.tsx
autonomous: true

must_haves:
  truths:
    - "All tables have subtle shadows matching Card component styling"
    - "Tables scroll horizontally on narrow viewports"
    - "Header has visual depth with subtle shadow"
    - "MetricCards have consistent shadow, border treatment, and responsive grid"
    - "Session list items have hover states for interactivity feedback"
  artifacts:
    - path: "frontend/src/features/retrieval/components/ResultsTable.tsx"
      provides: "Table wrapper with shadow-sm and overflow-x-auto"
      contains: "shadow-sm"
    - path: "frontend/src/features/evaluation/components/ComparisonTable.tsx"
      provides: "Table wrapper with shadow-sm and overflow-x-auto"
      contains: "shadow-sm"
    - path: "frontend/src/features/ingestion/components/JobHistoryTable.tsx"
      provides: "Table wrapper with shadow-sm, rounded-lg, and overflow-x-auto"
      contains: "shadow-sm"
    - path: "frontend/src/features/evaluation/components/ResultsDisplay.tsx"
      provides: "MetricCard with shadow-sm and responsive grid"
      contains: "grid-cols-1"
    - path: "frontend/src/components/layout/header.tsx"
      provides: "Header with shadow"
      contains: "shadow-sm"
    - path: "frontend/src/features/chat/components/ChatSessionList.tsx"
      provides: "Session items with hover states"
      contains: "hover:bg"
  key_links:
    - from: "ResultsTable.tsx"
      to: "Card component styling"
      via: "shadow-sm class matching Card"
      pattern: "shadow-sm"
    - from: "ResultsDisplay.tsx"
      to: "Tailwind responsive utilities"
      via: "grid-cols-1 sm:grid-cols-3"
      pattern: "grid-cols-1.*grid-cols-3"
---

<objective>
Apply visual polish and responsive improvements to tables, header, and interactive elements.

Purpose: Satisfy DSGN-02 (card-based layouts with subtle shadows), DSGN-03 (rounded corners), DSGN-04 (visual hierarchy), and DSGN-06 (responsive layout) requirements. Tables currently lack shadows and horizontal scroll handling; MetricCards use fixed grid columns.

Output: All data tables have consistent shadow treatment with horizontal scroll support, header has visual depth, MetricCards are responsive, session list has proper hover feedback.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-design-polish/06-RESEARCH.md

Key decisions from prior phases:
- Card component uses `shadow-sm rounded-xl border` (established pattern)
- Dark theme uses blue tint (hue 250) for visual depth
- shadcn/ui new-york style with Tailwind v4 oklch colors
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish table wrappers with shadows and scroll</name>
  <files>
    frontend/src/features/retrieval/components/ResultsTable.tsx
    frontend/src/features/evaluation/components/ComparisonTable.tsx
    frontend/src/features/ingestion/components/JobHistoryTable.tsx
  </files>
  <action>
    Update table wrapper div classes to include shadow-sm and overflow-x-auto:

    **ResultsTable.tsx** (line ~24):
    Change: `<div className="border rounded-lg">`
    To: `<div className="border rounded-lg shadow-sm overflow-x-auto">`

    **ComparisonTable.tsx** (line ~51):
    Change: `<div className="border rounded-lg">`
    To: `<div className="border rounded-lg shadow-sm overflow-x-auto">`

    **JobHistoryTable.tsx** (lines ~133-148):
    The Table component is currently bare (no wrapper div). Wrap it:

    Change:
    ```tsx
    return (
      <Table>
        <TableHeader>
    ```

    To:
    ```tsx
    return (
      <div className="border rounded-lg shadow-sm overflow-x-auto">
        <Table>
          <TableHeader>
    ```

    And close the div after `</Table>`:
    ```tsx
          </TableBody>
        </Table>
      </div>
    )
    ```

    The `overflow-x-auto` enables horizontal scroll on narrow viewports.
    The `shadow-sm` matches Card component styling.
  </action>
  <verify>
    Run `cd frontend && pnpm build` - should complete without errors.
    Visually inspect tables at narrow viewport (400px) - should scroll horizontally.
  </verify>
  <done>
    All three tables have shadow-sm and overflow-x-auto classes.
    Tables visually match Card component and handle narrow viewports.
  </done>
</task>

<task type="auto">
  <name>Task 2: Enhance header and MetricCard styling</name>
  <files>
    frontend/src/components/layout/header.tsx
    frontend/src/features/evaluation/components/ResultsDisplay.tsx
  </files>
  <action>
    **header.tsx**:
    Add subtle shadow to header for depth while maintaining the backdrop-blur effect.

    Change the header className (line ~5):
    From: `className="sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"`
    To: `className="sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur shadow-sm supports-[backdrop-filter]:bg-background/60"`

    **ResultsDisplay.tsx**:
    Two changes needed:

    1. Update MetricCard div className (line ~28):
    From: `className="rounded-lg border p-4 text-center bg-card"`
    To: `className="rounded-xl border p-4 text-center bg-card shadow-sm"`
    (Using rounded-xl to match Card component radius)

    2. Update metrics grid to be responsive (line ~66):
    From: `<div className="grid grid-cols-3 gap-4">`
    To: `<div className="grid grid-cols-1 sm:grid-cols-3 gap-4">`
    (Stack on mobile, 3 columns on tablet+)
  </action>
  <verify>
    Run `cd frontend && pnpm build` - should complete without errors.
    Header should have subtle shadow visible.
    MetricCards should have consistent rounded corners, shadow, and stack on mobile.
  </verify>
  <done>
    Header has shadow-sm class.
    MetricCard uses rounded-xl and shadow-sm matching Card component.
    MetricCards grid uses responsive grid-cols-1 sm:grid-cols-3.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add hover states to session list</name>
  <files>
    frontend/src/features/chat/components/ChatSessionList.tsx
  </files>
  <action>
    Add explicit hover state to SidebarMenuButton for visual feedback.

    The SidebarMenuButton from shadcn/ui sidebar has built-in hover states, but they may be subtle. Add an explicit hover class to ensure visibility.

    Update line ~77:
    From: `className="flex flex-col items-start gap-0.5 h-auto py-2"`
    To: `className="flex flex-col items-start gap-0.5 h-auto py-2 transition-colors"`

    Note: The shadcn SidebarMenuButton component should already include hover:bg-sidebar-accent. Adding transition-colors ensures smooth color transitions. If hover is still not visible after testing, can add explicit hover:bg-sidebar-accent/50, but test first with just transition-colors.
  </action>
  <verify>
    Run `cd frontend && pnpm build` - should complete without errors.
    Hover over session items in chat sidebar - should see background change.
  </verify>
  <done>
    Session list items have smooth hover transitions.
    Visual feedback is clear when hovering over items.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `cd frontend && pnpm build` - should succeed without errors
2. Start dev server: `cd frontend && pnpm dev`
3. Visual checks in browser at various viewports:

   Desktop (1200px+):
   - All tables have subtle shadows
   - Header has shadow
   - MetricCards in 3 columns with shadows

   Tablet (768px):
   - Tables fit or scroll horizontally
   - MetricCards in 3 columns

   Mobile (400px):
   - Tables scroll horizontally (no page overflow)
   - MetricCards stack in 1 column

   Interactions:
   - Chat sidebar: session items show hover effect
</verification>

<success_criteria>
- All table wrappers include `shadow-sm overflow-x-auto` classes
- Header includes `shadow-sm` class
- MetricCard uses `rounded-xl shadow-sm` matching Card component
- MetricCards grid uses `grid-cols-1 sm:grid-cols-3` for responsiveness
- Session list items have `transition-colors` for hover smoothness
- Build completes without errors
- No layout breaks at any viewport width
</success_criteria>

<output>
After completion, create `.planning/phases/06-design-polish/06-01-SUMMARY.md`
</output>
